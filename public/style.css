/* ===== Reset & Base ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Poppins", "Segoe UI", system-ui, -apple-system, "Segoe UI Emoji", "Noto Color Emoji", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

:root{
  --accent: #7b6ef6;
  --accent-dark: #6758e5;
  --danger: #ff4d4d;
  --bg1: #ff9a9e;
  --bg2: #fad0c4;
  --bg3: #fbc2eb;
  --bg4: #a18cd1;
  --muted: #888;
}

/* Page background (animated gradient) */
body, .chatroom-body, .homepage, .setup-page {
    background: linear-gradient(135deg, var(--bg1), var(--bg2), var(--bg3), var(--bg4));
    background-size: 400% 400%;
    animation: gradientBG 10s ease infinite;
    min-height: 100vh;
}

@keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* center page content */
.homepage, .setup-page, .chatroom-body {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
}

/* ===== Homepage Hero Section ===== */
.hero {
    max-width: 920px;
    width: 100%;
    padding: 40px;
    color: white;
    display: grid;
    grid-template-columns: 1fr;
    gap: 24px;
    align-items: center;
    justify-items: center;
}

.logo {
    font-size: 2rem;
    font-weight: 700;
}

.hero-content {
    text-align: center;
    max-width: 780px;
}
.hero h2 {
    font-size: 2.25rem;
    margin-bottom: 12px;
}
.hero p {
    font-size: 1.05rem;
    margin-bottom: 20px;
    line-height: 1.5;
    opacity: 0.95;
}

.btn {
    display: inline-block;
    padding: 14px 28px;
    background: #ff5722;
    color: white;
    font-weight: 700;
    border-radius: 28px;
    text-decoration: none;
    font-size: 1.05rem;
    transition: transform 0.15s ease, background 0.2s ease;
}
.btn:hover { transform: translateY(-3px); background: #ff3d00; }

.hero-footer { color: rgba(255,255,255,0.9); margin-top: 10px; }

/* ===== Setup Form (Chatsetup Page) ===== */
.setup-container {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 16px;
    padding: 2rem;
    max-width: 420px;
    width: 100%;
    text-align: center;
    box-shadow: 0 12px 30px rgba(0,0,0,0.16);
    color: #333;
}

.title { font-size: 1.6rem; color: var(--accent); margin-bottom: 6px; }
.subtitle { color: var(--muted); margin-bottom: 1.2rem; }

.setup-form label { display:block; text-align:left; font-weight:700; color:#333; margin-top:12px; }
.setup-form input[type="text"] {
    width:100%; padding:10px 12px; margin-top:6px; border-radius:8px; border:1px solid #ddd; outline:none;
}
.setup-form input[type="text"]:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(123,110,246,0.08); }

.gender-options { display:flex; justify-content:space-between; gap:8px; margin-top:10px; }
.gender-options label { font-weight:500; color:#444; display:flex; align-items:center; gap:6px; }

/* Start button */
.start-btn {
    margin-top: 18px; background: var(--accent); color: #fff; border:none; padding: 12px 14px; border-radius:10px;
    cursor:pointer; width:100%; font-weight:700; font-size:1rem;
}
.start-btn:hover { background: var(--accent-dark); transform: translateY(-2px); }

/* ===== Chatroom Layout ===== */
/* Chat page background still gradient; container floats above it */
.chat-container {
    max-width: 980px;
    width: 100%;
    height: 88vh;
    background: #fff;
    border-radius: 18px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    box-shadow: 0 30px 60px rgba(0,0,0,0.18);
    border: 1px solid rgba(0,0,0,0.04);
    animation: popIn 0.28s cubic-bezier(.2,.9,.3,1);
}
@keyframes popIn { from { transform: translateY(6px) scale(.995); opacity:0 } to { transform: translateY(0) scale(1); opacity:1 } }

/* Header */
.chat-header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:14px 18px;
    border-bottom:1px solid #f0f0f0;
    background: linear-gradient(90deg, rgba(255,255,255,0.98), rgba(255,255,255,0.98));
}

.left-header, .right-header { display:flex; align-items:center; gap:12px; min-width: 0; }
.center-header { flex:1; display:flex; justify-content:center; align-items:center; }

.user-info { display:flex; flex-direction:column; align-items:flex-start; min-width:0; }
.user-info.partner { align-items:flex-end; text-align:right; }
.user-name { font-weight:700; color:#222; font-size:1rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:180px; }
.user-meta { font-size:0.85rem; color:var(--muted); margin-top:4px; display:flex; align-items:center; gap:8px; }

/* status dot */
.status-dot {
    width:9px; height:9px; border-radius:50%; display:inline-block;
    box-shadow:0 0 0 3px rgba(0,0,0,0.03);
}
.status-online { background: #4CAF50; }
.status-wait { background: #FFC107; }
.status-off { background: #d9534f; }

/* title */
.chat-title { font-weight:700; color:#444; font-size:1.05rem; opacity:0.95; }

/* Messages area */
.chat-messages {
    flex:1;
    padding:18px;
    background: linear-gradient(180deg, #fbfdfe, #f7f9fb);
    overflow-y:auto;
    display:flex;
    flex-direction:column;
    gap:10px;
}

/* each message bubble */
.chat-bubble { max-width:72%; padding:10px 14px; border-radius:14px; font-size:0.96rem; line-height:1.25; word-break:break-word; box-shadow: 0 6px 16px rgba(16,24,40,0.03); }
.chat-bubble.me { background: var(--accent); color:#fff; align-self:flex-end; border-bottom-right-radius:6px; }
.chat-bubble.them { background:#eef0f3; color:#222; align-self:flex-start; border-bottom-left-radius:6px; }

/* message meta (small time) */
.msg-meta { font-size:0.78rem; color:rgba(0,0,0,0.45); margin-top:6px; }

/* system messages */
.chat-system { align-self:center; background:transparent; color:var(--muted); font-style:italic; font-size:0.9rem; }

/* Input area */
.chat-input-form {
    display:flex;
    gap:10px;
    align-items:center;
    padding:14px;
    border-top:1px solid #f0f0f0;
    background: #fff;
}
.chat-input-form input[type="text"] {
    flex:1; padding:12px 14px; border-radius:10px; border:1px solid #e1e4ea; font-size:0.96rem; outline:none;
}
.chat-input-form input[type="text"]:focus { box-shadow: 0 6px 18px rgba(123,110,246,0.08); border-color:var(--accent); }

/* buttons */
.chat-btn { border:none; cursor:pointer; padding:10px 14px; border-radius:10px; font-weight:700; font-size:0.95rem; }
.next-btn { background: var(--danger); color:#fff; }
.next-btn:hover { background: #e04343; transform: translateY(-1px); }
.send-btn { background: var(--accent); color:#fff; }
.send-btn:hover { background: var(--accent-dark); transform: translateY(-1px); }

/* responsive tweaks */
@media (max-width: 880px) {
    .chat-container { height: 92vh; max-width: 720px; }
    .user-name { max-width: 140px; }
    .chat-bubble { max-width: 78%; }
}
@media (max-width: 520px) {
    .chat-container { height: 100vh; border-radius: 12px; }
    .left-header, .right-header { display:none; } /* keep header minimal on tiny screens */
    .center-header { justify-content:flex-start; padding-left:12px; }
    .chat-input-form { padding:12px; gap:8px; }
    .chat-bubble { max-width: 86%; }
}
